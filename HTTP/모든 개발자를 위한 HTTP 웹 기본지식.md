###### 모든 개발자를 위한 HTTP 웹 기본지식

# 1. 인터넷 네트워크
## 1. 인터넷통신
인터넷에서 컴퓨터 둘은 어떻게 통신할까?
- 복잡한 인터넷 망을 통해서 메시지를 전송
메세지가 중간노드를 거쳐서 안전하게 가야한다. 도데체 어떤 규칙으로 어떻게 넘어갈까?
그것을 이해하려면 IP에대해서 학습해야한다.

## 2. IP(인터넷 프로토콜)
### IP 주소 부여
클라이언트와 서버 둘다 IP주소가 있어야한다.

### IP 인터넷 프로토콜 역할
- 지정한 IP 주소(IP Address)에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달

### IP 패킷 정보 
메세지를 그냥 보내는것이 아니라 IP 패킷이라는 규칙이있다.
출발지 IP, 목적지 IP등 기타 정보들이 전송할 데이터를 감싸고있다.
IP 패킷을 만들면 그 패킷을 인터넷망에 던진다.

### 클라이언트 패킷 전달
서로 노드끼리 물어가면서 패킷을 던지면서 도착지에 도착한다.

### 서버 패킷 전달
서버도 데이터를 받으면 OK데이터를 똑같이 패킷을 구성하여 인터넷 망에 던진다.

### IP 프로토콜의 한계
- 비연결성
 	- 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- 비신뢰성
 	- 중간에 패킷이 사라지면?
 	- 패킷이 순서대로 안오면?
- 프로그램 구분
 	- 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?

### 대상이 서비스 불능, 패킷 전송
클라이언트는 대상 서버가 패킷을 받을 수 있는 상태인지 모름

### 패킷 소실
중간서버가 문제가 생기면 내가 보낸 패킷이 유실된다. 

### 패킷 전달 순서 문제 발생
1500바이트정도씩 끊어보낸다. 패킷들이 중간에 다른 노드를 탈 수 있다. 무수히 노드를 타다보면 최종적으로 순서에 문제가 발생된다.

이런 문제들을 해결해주는게 바로 TCP 프로토콜이다.

## 3. TCP, UDP
### 인터넷 프로토콜 스택의 4계층
4. 애플리케이션 계층 - HTTP, FTP
3. 전송 계층 - TCP, UDP
2. 인터넷 계층 - IP
1. 네트워크 인터페이스 계층(LAN 카드,,)

### 프로토콜 계층
25

### IP 패킷 정보
### TCP/IP 패킷 정보
27
그래서 IP만으로 해결이되지않았던 순서문제나 검증문제를 해결을 하게해준다.

### TCP 특징
전송 제어 프로토콜(Transmission Control Protocol)
1. 연결 지향 - TCP 3 way handshake(가상 연결)
2. 데이터 전달 보증(누락되면 누락사실을 알 수 있다.)
3. 순서 보장

- 신뢰할 수 있는 프로토콜
- 현재는 대부분 TCP 사용

### 3 way handshake
pdf
TCP/IP 로 연결하면
1. 클라이언트에서 서버로 연결해달라는 SYN 메시지를 보냄
2. 서버에서 알겠다는 ACK라는 메시지와 나도 연결해달라는 SYN을 보낸다
3. 클라이언가 ACK를 보내며 알겠다고한다.
4. 위의 연결과정을 거치고 데이터를 전송한다.

가상연결: 나를 위한 전용 렌선이 연결된것이아니라 논리적으로 연결이된것이다.

### 데이터 전달 보증
pdf
서버가 데이터를 잘받으면 응답을 해준다.

### 순서 보장
pdf
서버가 도착순서가 잘못됐으면 다 버리고 패킷 2부터 다시보내라고 클라이언트에게 요청한다.(최적화 방법이 따로 있을수 있다.)

### UDP 특징
사용자 데이터그램 프로토콜(User Datagram Protocol)
- 하얀 도화지에 비유(기능이 거의 없음) >> 최근에 각광 받는중
- 연결지향 X
- 데이터 전달보증 X
- 순서보장 X

데이터 전달 및 순서가 보장되지 않지만, **단순하고 빠름**

- 정리
	- IP프로토콜과  거의 같다. +**PORT** +체크섬 정도만 추가
	- 애플리케이션에서 추가 작업이 필요하다.
	- PORT는 프로그램 구분: 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면? 이라는 문제의 해결에 사용된다.

## 4. PORT
### 한번에 둘 이상 연결해야하면?
pdf
- pc에 게임, 화상통화, 웹브라우저를 동시에하면 여러가지 서버에 연결해야한다. 
- IP프로토콜로만 전송하면 내 ip로 패킷이 올탠데 이것이 게임에서 필요한 패킷인지, 화상통화에 필요한 패킷인지 모른다.

### TCP/IP 패킷 정보
pdf 
- TCP 세그먼트에는 출발지 PORT와 목적지 PORT정보가 있다.
- IP는 목적지의 서버를 찾는것이고 PORT 그 서버안에서 돌아가는 애플리케이션을 구분하기위해 사용한다.

### PORT - 같은 IP내에서 프로세스 구분
pdf

IP는 아파트이고 PORT는 몇동 몇호다.

### PORT
- 0 ~ 65535 할당 가능
- 0 ~ 1023: 잘 알려진 포트, 사용하지 않는 것이 좋음
	- FTP - 20,21
	- TELNET - 23
	- HTTP - 80
	- HTTPS - 443

## 5. DNS
### IP는 기억하기 어렵다.
pdf
### IP는 변경될 수 있다.
pdf
IP가 바뀌는일은 굉장히 많다.

### DNS 도메인 네임 시스템(Domain Name System)
- 전화번호부
- 도메인 명을 IP 주소로 변환

### DNS 사용
pdf
도메인을 사서 DNS서버에 등록하고 클라이언트가 도메인명으로 검색하면 응답이 IP로 온다. 
나중에 IP가 변경되면 DNS서버의 IP주소를 바꿈된다. 두가지문제를 해결할 수 있다.





